<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Diet Planner - WellNest</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

<nav>
  <div class="logo-container">
    <img src="images/fitness-logo.svg" alt="WellNest Fitness Logo" />
    <h1>WellNest</h1>
  </div>
  
  <!-- Hamburger Menu Button -->
  <div class="hamburger" id="hamburger">
    <span></span>
    <span></span>
    <span></span>
  </div>
  
  <ul id="navMenu">
    <li><a href="index.html">Home</a></li>
    <li><a href="body.html">Body</a></li>
    <li><a href="bodyhealth.html">Body Health</a></li>
    <li><a href="mind.html">Mind</a></li>
    <li><a href="sleep.html">Sleep</a></li>
    <li><a href="diet.html" class="active">Diet</a></li>
    <li><a href="workout.html">Workout</a></li>
    <li><a href="care.html">Care</a></li>
    <li><a href="reminders.html">Reminders</a></li>
    <li><a href="login.html">Login</a></li>
    <li><a href="signup.html">Sign Up</a></li>
  </ul>
</nav>

<section class="section">
  <h2>Diet Planner ğŸ</h2>
  <p>Plan your daily meals and maintain a balanced nutrition.</p>

  <div class="card-container">
    <div class="card">
      <h3>Breakfast</h3>
      <p>Oats, banana, and milk â€“ 350 kcal</p>
    </div>
    <div class="card">
      <h3>Lunch</h3>
      <p>Grilled chicken, rice, and salad â€“ 550 kcal</p>
    </div>
    <div class="card">
      <h3>Dinner</h3>
      <p>Soup and steamed veggies â€“ 300 kcal</p>
    </div>
    <div class="card">
      <h3>Snack</h3>
      <p>Mixed nuts â€“ 150 kcal</p>
    </div>
  </div>

  <!-- ğŸ½ï¸ Add Your Own Meal Section -->
  <div class="diet-tracker-section">
    <h3>Add Your Own Meal ğŸ½ï¸</h3>
    <div class="meal-input-card">
      <div class="input-row">
        <div class="input-group">
          <label for="mealName">Meal Name</label>
          <input type="text" id="mealName" placeholder="e.g., Grilled Salmon" />
        </div>
        <div class="input-group">
          <label for="mealCalories">Calories (kcal)</label>
          <input type="number" id="mealCalories" placeholder="e.g., 250" />
        </div>
      </div>
      <div class="input-row">
        <div class="input-group">
          <label for="mealType">Meal Type</label>
          <select id="mealType">
            <option value="">Select meal type</option>
            <option value="breakfast">Breakfast</option>
            <option value="lunch">Lunch</option>
            <option value="dinner">Dinner</option>
            <option value="snack">Snack</option>
          </select>
        </div>
        <div class="input-group">
          <button onclick="addMeal()" class="add-meal-btn">Add Meal ğŸ</button>
        </div>
      </div>
    </div>

    <!-- Daily Calorie Summary -->
    <div class="calorie-summary">
      <h3>Today's Calorie Summary ğŸ“Š</h3>
      <div class="summary-cards">
        <div class="summary-card">
          <span class="calorie-label">Total Consumed</span>
          <span class="calorie-number" id="totalCalories">1350</span>
          <span class="calorie-unit">kcal</span>
        </div>
        <div class="summary-card">
          <span class="calorie-label">Daily Goal</span>
          <span class="calorie-number">2000</span>
          <span class="calorie-unit">kcal</span>
        </div>
        <div class="summary-card">
          <span class="calorie-label">Remaining</span>
          <span class="calorie-number" id="remainingCalories">650</span>
          <span class="calorie-unit">kcal</span>
        </div>
      </div>
      <div class="progress-bar">
        <div class="progress-fill" id="calorieProgress"></div>
      </div>
    </div>

    <!-- ğŸ’§ Water Intake Section -->
    <div class="water-tracker">
      <h3>Water Intake Tracker ğŸ’§</h3>
      <div class="water-content">
        <div class="water-visual">
          <div class="water-bottle">
            <div class="water-fill" id="waterFill"></div>
            <div class="bottle-labels">
              <span class="label">2L</span>
              <span class="label">1.5L</span>
              <span class="label">1L</span>
              <span class="label">0.5L</span>
            </div>
          </div>
        </div>
        
        <div class="water-controls">
          <div class="water-stats">
            <div class="water-stat">
              <span class="stat-value" id="currentWater">1.2</span>
              <span class="stat-unit">L</span>
              <span class="stat-label">Consumed</span>
            </div>
            <div class="water-stat">
              <span class="stat-value">2.5</span>
              <span class="stat-unit">L</span>
              <span class="stat-label">Daily Goal</span>
            </div>
            <div class="water-stat">
              <span class="stat-value" id="waterRemaining">1.3</span>
              <span class="stat-unit">L</span>
              <span class="stat-label">Remaining</span>
            </div>
          </div>
          
          <div class="water-buttons">
            <button onclick="addWater(250)" class="water-btn small">
              ğŸ¥¤ 250ml
            </button>
            <button onclick="addWater(500)" class="water-btn medium">
              ğŸ«— 500ml
            </button>
            <button onclick="addWater(1000)" class="water-btn large">
              ğŸ¼ 1L
            </button>
          </div>
          
          <div class="custom-water">
            <div class="custom-input-group">
              <input type="number" id="customWater" placeholder="Custom amount" min="1" max="2000">
              <span class="input-unit">ml</span>
              <button onclick="addCustomWater()" class="custom-btn">Add ğŸ’§</button>
            </div>
          </div>
          
          <div class="water-benefits">
            <h4>ğŸ’¡ Hydration Benefits</h4>
            <ul id="waterBenefits">
              <li>ğŸ§  Improves brain function and concentration</li>
              <li>ğŸ’ª Boosts energy levels and reduces fatigue</li>
              <li>âœ¨ Promotes healthy skin and complexion</li>
            </ul>
          </div>
        </div>
      </div>
    </div>

    <!-- Added Meals List -->
    <div class="added-meals">
      <h3>Your Added Meals ğŸ“</h3>
      <div id="mealsList" class="meals-list">
        <p class="no-meals">No meals added yet. Add your first meal above! ğŸ½ï¸</p>
      </div>
    </div>
  </div>
</section>

<footer>Â© 2025 WellNest | Designed with ğŸ’š by Tahreem Fatima</footer>

<script>
  // Check authentication
  const isLoggedIn = localStorage.getItem('wellnest_user');
  if (!isLoggedIn) {
    alert('ğŸ”’ Please login to access your diet tracker! ğŸŒ¿');
    window.location.href = 'login.html';
  }

  // Hamburger Menu Functionality
  const hamburger = document.getElementById('hamburger');
  const navMenu = document.getElementById('navMenu');

  hamburger.addEventListener('click', () => {
    hamburger.classList.toggle('active');
    navMenu.classList.toggle('active');
  });

  // Close menu when clicking on a link
  document.querySelectorAll('#navMenu a').forEach(link => {
    link.addEventListener('click', () => {
      hamburger.classList.remove('active');
      navMenu.classList.remove('active');
    });
  });

  // Diet Tracking Functionality
  let totalCalories = 1350; // Starting with existing meals calories
  const dailyGoal = 2000;
  let addedMeals = [];

  function addMeal() {
    const mealName = document.getElementById('mealName').value.trim();
    const mealCalories = parseInt(document.getElementById('mealCalories').value);
    const mealType = document.getElementById('mealType').value;

    // Validation
    if (!mealName) {
      alert('Please enter a meal name! ğŸ½ï¸');
      return;
    }
    if (!mealCalories || mealCalories <= 0) {
      alert('Please enter valid calories! ğŸ“Š');
      return;
    }
    if (!mealType) {
      alert('Please select a meal type! ğŸ•');
      return;
    }

    // Add meal to list
    const meal = {
      name: mealName,
      calories: mealCalories,
      type: mealType,
      time: new Date().toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'})
    };
    
    addedMeals.push(meal);
    totalCalories += mealCalories;

    // Update display
    updateMealsList();
    updateCalorieSummary();
    
    // Clear inputs
    document.getElementById('mealName').value = '';
    document.getElementById('mealCalories').value = '';
    document.getElementById('mealType').value = '';

    // Success message
    alert(`âœ… ${mealName} added successfully! (+${mealCalories} kcal)`);
  }

  function updateMealsList() {
    const mealsList = document.getElementById('mealsList');
    
    if (addedMeals.length === 0) {
      mealsList.innerHTML = '<p class="no-meals">No meals added yet. Add your first meal above! ğŸ½ï¸</p>';
      return;
    }

    let mealsHTML = '';
    addedMeals.forEach((meal, index) => {
      const mealIcon = {
        'breakfast': 'ğŸŒ…',
        'lunch': 'â˜€ï¸',
        'dinner': 'ğŸŒ™',
        'snack': 'ğŸ'
      };

      mealsHTML += `
        <div class="meal-item">
          <div class="meal-info">
            <span class="meal-icon">${mealIcon[meal.type]}</span>
            <span class="meal-name">${meal.name}</span>
            <span class="meal-type">(${meal.type.charAt(0).toUpperCase() + meal.type.slice(1)})</span>
          </div>
          <div class="meal-details">
            <span class="meal-time">${meal.time}</span>
            <span class="meal-calories">${meal.calories} kcal</span>
            <button onclick="removeMeal(${index})" class="remove-btn">ğŸ—‘ï¸</button>
          </div>
        </div>
      `;
    });

    mealsList.innerHTML = mealsHTML;
  }

  function removeMeal(index) {
    const meal = addedMeals[index];
    totalCalories -= meal.calories;
    addedMeals.splice(index, 1);
    
    updateMealsList();
    updateCalorieSummary();
    
    alert(`ğŸ—‘ï¸ ${meal.name} removed (-${meal.calories} kcal)`);
  }

  function updateCalorieSummary() {
    const remaining = Math.max(0, dailyGoal - totalCalories);
    const percentage = Math.min(100, (totalCalories / dailyGoal) * 100);

    document.getElementById('totalCalories').textContent = totalCalories;
    document.getElementById('remainingCalories').textContent = remaining;
    document.getElementById('calorieProgress').style.width = percentage + '%';

    // Change progress color based on percentage
    const progressBar = document.getElementById('calorieProgress');
    if (percentage < 50) {
      progressBar.style.background = '#A8E6CF';
    } else if (percentage < 80) {
      progressBar.style.background = '#79C9AF';
    } else if (percentage <= 100) {
      progressBar.style.background = '#2C6E63';
    } else {
      progressBar.style.background = '#ff6b6b';
    }
  }

  // Initialize the display
  updateCalorieSummary();

  // Water Intake Tracking
  let currentWaterIntake = 1200; // Starting with 1.2L (1200ml)
  const waterGoal = 2500; // 2.5L daily goal

  function addWater(amount) {
    currentWaterIntake += amount;
    updateWaterDisplay();
    
    // Success feedback
    const liters = amount >= 1000 ? (amount/1000).toFixed(1) + 'L' : amount + 'ml';
    showWaterAlert(`ğŸ’§ Added ${liters} of water!`);
    
    // Check achievements
    checkWaterAchievements();
  }

  function addCustomWater() {
    const customAmount = parseInt(document.getElementById('customWater').value);
    
    if (!customAmount || customAmount <= 0 || customAmount > 2000) {
      alert('Please enter a valid amount between 1-2000ml! ğŸ’§');
      return;
    }
    
    addWater(customAmount);
    document.getElementById('customWater').value = '';
  }

  function updateWaterDisplay() {
    const waterInLiters = (currentWaterIntake / 1000).toFixed(1);
    const remainingInLiters = Math.max(0, (waterGoal - currentWaterIntake) / 1000).toFixed(1);
    const percentage = Math.min(100, (currentWaterIntake / waterGoal) * 100);
    
    // Update display values
    document.getElementById('currentWater').textContent = waterInLiters;
    document.getElementById('waterRemaining').textContent = remainingInLiters;
    
    // Update water bottle fill
    const waterFill = document.getElementById('waterFill');
    waterFill.style.height = percentage + '%';
    
    // Change color based on hydration level
    if (percentage < 40) {
      waterFill.style.background = 'linear-gradient(to top, #ffcccb, #87ceeb)';
    } else if (percentage < 70) {
      waterFill.style.background = 'linear-gradient(to top, #87ceeb, #4682b4)';
    } else if (percentage <= 100) {
      waterFill.style.background = 'linear-gradient(to top, #4682b4, #1e3a8a)';
    } else {
      waterFill.style.background = 'linear-gradient(to top, #1e3a8a, #0f172a)';
    }
    
    // Update benefits based on hydration level
    updateWaterBenefits(percentage);
  }

  function updateWaterBenefits(percentage) {
    const benefitsList = document.getElementById('waterBenefits');
    let benefits = [];
    
    if (percentage < 30) {
      benefits = [
        'âš ï¸ Low hydration - drink more water!',
        'ğŸ˜´ May cause fatigue and headaches',
        'ğŸ¯ Goal: Drink at least 250ml now'
      ];
    } else if (percentage < 60) {
      benefits = [
        'ğŸ“ˆ Good start - keep drinking!',
        'ğŸ§  Brain function is improving',
        'ğŸ’ª Energy levels are rising'
      ];
    } else if (percentage < 90) {
      benefits = [
        'âœ… Great hydration level!',
        'ğŸŒŸ Skin is getting healthier',
        'ğŸ¯ Almost at your daily goal!'
      ];
    } else if (percentage <= 100) {
      benefits = [
        'ğŸ† Excellent hydration!',
        'ğŸ’ Optimal brain and body function',
        'ğŸ‰ Daily goal achieved!'
      ];
    } else {
      benefits = [
        'ğŸŒŠ Very well hydrated!',
        'âš¡ Peak performance mode',
        'ğŸ‘‘ Hydration champion!'
      ];
    }
    
    benefitsList.innerHTML = benefits.map(benefit => `<li>${benefit}</li>`).join('');
  }

  function checkWaterAchievements() {
    const percentage = (currentWaterIntake / waterGoal) * 100;
    
    if (percentage >= 100 && !localStorage.getItem('waterGoalAchieved')) {
      showWaterAlert('ğŸ† Congratulations! You\'ve reached your daily water goal!');
      localStorage.setItem('waterGoalAchieved', 'true');
    } else if (percentage >= 75 && !localStorage.getItem('water75Achieved')) {
      showWaterAlert('ğŸŒŸ Great job! You\'re 75% towards your hydration goal!');
      localStorage.setItem('water75Achieved', 'true');
    } else if (percentage >= 50 && !localStorage.getItem('water50Achieved')) {
      showWaterAlert('ğŸ’ª Halfway there! Keep up the good hydration!');
      localStorage.setItem('water50Achieved', 'true');
    }
  }

  function showWaterAlert(message) {
    // Create a temporary alert that's more visually appealing
    const alert = document.createElement('div');
    alert.className = 'water-alert';
    alert.textContent = message;
    alert.style.cssText = `
      position: fixed;
      top: 20px;
      right: 20px;
      background: linear-gradient(135deg, #87ceeb, #4682b4);
      color: white;
      padding: 15px 20px;
      border-radius: 10px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.2);
      z-index: 1000;
      font-weight: 600;
      animation: slideIn 0.3s ease-out;
    `;
    
    document.body.appendChild(alert);
    
    // Remove after 3 seconds
    setTimeout(() => {
      alert.remove();
    }, 3000);
  }

  // Reset daily achievements at midnight
  function resetDailyAchievements() {
    const today = new Date().toDateString();
    const lastReset = localStorage.getItem('lastWaterReset');
    
    if (lastReset !== today) {
      localStorage.removeItem('waterGoalAchieved');
      localStorage.removeItem('water75Achieved');
      localStorage.removeItem('water50Achieved');
      localStorage.setItem('lastWaterReset', today);
      
      // Reset water intake for new day
      if (lastReset && lastReset !== today) {
        currentWaterIntake = 0;
        updateWaterDisplay();
      }
    }
  }

  // Initialize water display and check for new day
  resetDailyAchievements();
  updateWaterDisplay();

  // Add CSS animation for alerts
  const style = document.createElement('style');
  style.textContent = `
    @keyframes slideIn {
      from { transform: translateX(100%); opacity: 0; }
      to { transform: translateX(0); opacity: 1; }
    }
  `;
  document.head.appendChild(style);
</script>
</body>
</html>
